<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre-Order Junaya - Recap System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h1>üç∞ Pre-Order Junaya</h1>
                <p>Premium Tiramisu & Matcha Collection</p>
            </div>
            <div class="login-form">
                <h2>Login</h2>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" placeholder="masukkan email Anda">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="masukkan password">
                </div>
                <button class="btn-login" id="btnLogin">
                    <span>üîê</span> Login
                </button>
                <div class="login-divider">atau</div>
                <button class="btn-register" id="btnShowRegister">
                    <span>‚ú®</span> Buat Akun Baru
                </button>
                <p class="login-hint">üí° Data akan tersimpan online dan bisa diakses dari perangkat mana saja</p>
            </div>
        </div>
    </div>

    <!-- Register Screen -->
    <div id="registerScreen" class="login-screen" style="display: none;">
        <div class="login-container">
            <div class="login-header">
                <h1>üç∞ Pre-Order Junaya</h1>
                <p>Buat Akun Baru</p>
            </div>
            <div class="login-form">
                <h2>Register</h2>
                <div class="form-group">
                    <label>Nama Lengkap</label>
                    <input type="text" id="registerName" placeholder="masukkan nama lengkap">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="registerEmail" placeholder="masukkan email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="registerPassword" placeholder="minimal 6 karakter">
                </div>
                <button class="btn-login" id="btnRegister">
                    <span>‚ú®</span> Daftar Sekarang
                </button>
                <div class="login-divider">atau</div>
                <button class="btn-register" id="btnShowLogin">
                    <span>üîê</span> Sudah Punya Akun? Login
                </button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="container" style="display: none;">
        <!-- User Info Bar -->
        <div class="user-info-bar">
            <div class="user-info">
                <span class="user-avatar">üë§</span>
                <div>
                    <strong id="userName">User</strong>
                    <small id="userEmail">email@example.com</small>
                </div>
            </div>
            <button class="btn-logout" id="btnLogout">
                <span>üö™</span> Logout
            </button>
        </div>

        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="main-title">üç∞ Pre-Order Junaya</h1>
                    <p class="subtitle">Premium Tiramisu & Matcha Collection</p>
                </div>
                <div class="date-section">
                    <div class="current-date" id="currentDate"></div>
                    <div class="current-time" id="currentTime"></div>
                </div>
            </div>
        </header>

        <!-- Quick Summary Cards -->
        <div class="summary-cards">
            <div class="summary-card card-blue">
                <div class="card-icon">üì¶</div>
                <div class="card-content">
                    <h3>Total Orders</h3>
                    <p class="card-value" id="totalOrders">0</p>
                </div>
            </div>
            <div class="summary-card card-green">
                <div class="card-icon">üí∞</div>
                <div class="card-content">
                    <h3>Grand Total</h3>
                    <p class="card-value" id="grandTotal">Rp 0</p>
                </div>
            </div>
            <div class="summary-card card-purple">
                <div class="card-icon">üìä</div>
                <div class="card-content">
                    <h3>Pending Orders</h3>
                    <p class="card-value" id="pendingOrders">0</p>
                </div>
            </div>
            <div class="summary-card card-orange">
                <div class="card-icon">‚úÖ</div>
                <div class="card-content">
                    <h3>Completed Orders</h3>
                    <p class="card-value" id="completedOrders">0</p>
                </div>
            </div>
        </div>

        <!-- Sync Status -->
        <div class="sync-status" id="syncStatus">
            <span class="sync-icon">‚òÅÔ∏è</span>
            <span>Data tersinkronisasi</span>
        </div>

        <!-- Input Form Section -->
        <div class="form-section">
            <div class="form-header">
                <h2>üìù Input Order Baru</h2>
                <button class="btn-export" id="exportBtn">
                    <span>üì§</span> Export to Excel
                </button>
            </div>
            
            <form id="orderForm" class="order-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="customerName">Nama Pelanggan</label>
                        <input type="text" id="customerName" placeholder="Masukkan nama pelanggan" required>
                    </div>

                    <div class="form-group">
                        <label for="quickCode">Quick Code (Optional)</label>
                        <input type="text" id="quickCode" placeholder="e.g., CTMS1, MTM2" 
                               title="Format: KODE+SIZE+QTY (CTMS1 = Classic Tiramisu Medium Small 1)">
                        <small class="form-hint">üí° CTMS1 = Classic Tiramisu Small x1</small>
                    </div>

                    <div class="form-group">
                        <label for="productCode">Kode Produk</label>
                        <select id="productCode" required>
                            <option value="">Pilih Produk</option>
                            <option value="CTM">CTM - Classic Tiramisu (Medium)</option>
                            <option value="CTS">CTS - Classic Tiramisu (Small)</option>
                            <option value="MTM">MTM - Matcha Missu (Medium)</option>
                            <option value="MTS">MTS - Matcha Missu (Small)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="productName">Nama Produk</label>
                        <input type="text" id="productName" placeholder="Auto-filled" readonly>
                    </div>

                    <div class="form-group">
                        <label for="size">Size</label>
                        <select id="size" required>
                            <option value="">Pilih Size</option>
                            <option value="Small">Small</option>
                            <option value="Medium">Medium</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="quantity">Quantity</label>
                        <input type="number" id="quantity" min="1" value="1" required>
                    </div>

                    <div class="form-group">
                        <label for="price">Harga Satuan</label>
                        <input type="text" id="price" placeholder="Auto-filled" readonly>
                    </div>

                    <div class="form-group">
                        <label for="total">Total Harga</label>
                        <input type="text" id="total" placeholder="Auto-calculated" readonly>
                    </div>

                    <div class="form-group">
                        <label for="paymentMethod">Payment Method</label>
                        <select id="paymentMethod" required>
                            <option value="">Pilih Metode</option>
                            <option value="Transfer">Transfer</option>
                            <option value="Cash">Cash</option>
                            <option value="E-Wallet">E-Wallet</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="status">Status</label>
                        <select id="status" required>
                            <option value="Pending">‚è≥ Pending</option>
                            <option value="Confirmed">‚úÖ Confirmed</option>
                            <option value="Processing">üîÑ Processing</option>
                            <option value="Completed">‚úîÔ∏è Completed</option>
                            <option value="Cancelled">‚ùå Cancelled</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary">
                        <span>‚ûï</span> Tambah Order
                    </button>
                    <button type="reset" class="btn-secondary">
                        <span>üîÑ</span> Reset Form
                    </button>
                </div>
            </form>
        </div>

        <!-- Statistics Panel -->
        <div class="stats-panel">
            <div class="stats-section">
                <h3>üìä Statistik Quantity</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Total Qty Small:</span>
                        <span class="stat-value" id="totalQtySmall">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Qty Medium:</span>
                        <span class="stat-value" id="totalQtyMedium">0</span>
                    </div>
                    <div class="stat-item highlight">
                        <span class="stat-label">Total Semua Qty:</span>
                        <span class="stat-value" id="totalQtyAll">0</span>
                    </div>
                </div>
            </div>

            <div class="stats-section">
                <h3>üíµ Statistik Harga</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Total Harga Small:</span>
                        <span class="stat-value" id="totalPriceSmall">Rp 0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Harga Medium:</span>
                        <span class="stat-value" id="totalPriceMedium">Rp 0</span>
                    </div>
                    <div class="stat-item highlight">
                        <span class="stat-label">Grand Total:</span>
                        <span class="stat-value grand" id="grandTotalPrice">Rp 0</span>
                    </div>
                </div>
            </div>

            <div class="stats-section">
                <h3>üí≥ Statistik Payment</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Total Transfer:</span>
                        <span class="stat-value" id="totalTransfer">Rp 0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Cash:</span>
                        <span class="stat-value" id="totalCash">Rp 0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total E-Wallet:</span>
                        <span class="stat-value" id="totalEWallet">Rp 0</span>
                    </div>
                </div>
            </div>

            <div class="stats-section">
                <h3>üç∞ Statistik Produk</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Classic Tiramisu:</span>
                        <span class="stat-value" id="totalClassic">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Matcha Missu:</span>
                        <span class="stat-value" id="totalMatcha">0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search and Filter Section -->
        <div class="filter-section">
            <div class="filter-header">
                <h3>üîç Filter & Search</h3>
            </div>
            <div class="filter-controls">
                <input type="text" id="searchInput" placeholder="üîé Search by name, code, or product...">
                <select id="filterStatus">
                    <option value="">All Status</option>
                    <option value="Pending">Pending</option>
                    <option value="Confirmed">Confirmed</option>
                    <option value="Processing">Processing</option>
                    <option value="Completed">Completed</option>
                    <option value="Cancelled">Cancelled</option>
                </select>
                <select id="filterPayment">
                    <option value="">All Payment</option>
                    <option value="Transfer">Transfer</option>
                    <option value="Cash">Cash</option>
                    <option value="E-Wallet">E-Wallet</option>
                </select>
                <button class="btn-clear-filter" id="clearFilter">Clear Filter</button>
            </div>
        </div>

        <!-- Orders Table Section -->
        <div class="table-section">
            <div class="table-header">
                <h3>üìã Daftar Pre-Order</h3>
                <div class="table-actions">
                    <button class="btn-danger" id="clearAllBtn">
                        <span>üóëÔ∏è</span> Clear All Data
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table id="ordersTable" class="orders-table">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Tanggal</th>
                            <th>Nama Pelanggan</th>
                            <th>Kode</th>
                            <th>Nama Produk</th>
                            <th>Size</th>
                            <th>Qty</th>
                            <th>Harga</th>
                            <th>Total</th>
                            <th>Payment</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="ordersTableBody">
                        <tr class="empty-state">
                            <td colspan="12">
                                <div class="empty-message">
                                    <span class="empty-icon">üì¶</span>
                                    <p>Belum ada order. Tambahkan order pertama Anda!</p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>¬© 2024 Junaya Pre-Order System | Designed with ‚ù§Ô∏è for your business</p>
            <p class="footer-note">‚òÅÔ∏è Data tersinkronisasi secara real-time</p>
        </footer>
    </div>

    <!-- Modal for Confirmation -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚ö†Ô∏è Konfirmasi Hapus</h3>
            </div>
            <div class="modal-body">
                <p>Apakah Anda yakin ingin menghapus order ini?</p>
                <p class="modal-warning">Data yang dihapus tidak dapat dikembalikan!</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="cancelDelete">Batal</button>
                <button class="btn-confirm-delete" id="confirmDelete">Ya, Hapus</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <script src="script.js"></script>
</body>
</html>